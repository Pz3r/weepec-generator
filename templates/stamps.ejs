<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Weepec Etiquetas</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    body {
      font-family: sans-serif;
      font-size: 8px;
    }
    .page {
      width: 215.9mm;
      height: 266.4mm;
      padding-top: 12.8mm;
      background-color: white;
    }
    .tag-row {
      margin-left: 4.49mm;
      clear: both;
    }
    .tag-cell {
      width: 61mm;
      height: 19.42mm;
      float: left;
      background-color: white;
      margin-right: 3mm;
      padding: 3mm;
    }
    .username {
      font-weight: bold;
    }

    @media print {
      .page-a { page-break-after: always; }
      .page-b { page-break-after: always; }
    }

  </style>
</head>
<body>
<% for (var i = 0; i < data.length; i++) { %>
<div class="page">
<% for (var j = 0; j < data[i].length; j++) { %>
  <% if ((j % 3) === 0) { %>
    <div class="tag-row">
  <% } %>
      <div class="tag-cell">
        <span class="username"><%= data[i][j]['nombre'] %> <%= data[i][j]['apellido_paterno'] %></span><br>
        <%= data[i][j]['calle_numero'] %>
        <% if (data[i][j]['calle_numero'].length < 40) { %>
          <%= data[i][j]['colonia'] %>
        <% } %>
        <%= data[i][j]['municipio'] %>, <%= data[i][j]['estado'] %> C.P. <%= data[i][j]['codigo_postal'] %>
      </div>
  <% if (((j + 1) % 3) === 0) { %>
  </div>
  <% } %>
<% } %>
</div>
<% } %>
  <script src="../js/textFit.min.js"></script>
  <script>
    textFit(document.getElementsByClassName('tag-cell'), { mutliLine: true, minFontSize: 6, maxFontSize: 11 });
  </script>
</body>
</html>
